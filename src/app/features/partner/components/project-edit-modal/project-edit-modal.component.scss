@use '../../../../shared/styles/dialog-forms' as form;
@use 'styles/mixins' as *;
@use 'styles/colors' as *;

.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

// --- SCHOOL SEARCH AUTOCOMPLETE ---
.autocomplete-section {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.ps-field__label { @include form.label; }

.ps-field__input {
  @include form.input(var(--color-primary, #1e3a5f));
  width: 100%;
  box-sizing: border-box;
}

.school-input-wrapper { position: relative; }

.school-search {
  position: relative;
  display: flex;
  align-items: center;

  .search-icon { position: absolute; left: 12px; color: get-color('gray', 400); }
  .school-search-input { padding-left: 36px; padding-right: 36px; }
}

.clear-school-btn {
  position: absolute; right: 12px;
  width: 20px; height: 20px;
  display: flex; align-items: center; justify-content: center;
  background: get-color('gray', 200); border: none; border-radius: 50%;
  color: get-color('gray', 500); cursor: pointer; @include transition-fast;
  &:hover { background: get-color('gray', 300); color: get-color('gray', 700); }
}

.school-dropdown {
  position: absolute; top: 100%; left: 0; right: 0;
  margin-top: 4px; background: #fff;
  border: 1px solid get-color('gray', 200); border-radius: 8px;
  @include shadow-lg;
  max-height: 200px; overflow-y: auto; z-index: 10;
}

.school-option {
  display: flex; flex-direction: column; align-items: flex-start;
  width: 100%; padding: 10px 12px;
  background: none; border: none; text-align: left;
  cursor: pointer; transition: background 0.15s ease;
  &:hover { background: get-color('gray', 100); }
  &--selected { background: get-color('primary', 50); }
}

.school-name { font-size: 0.875rem; font-weight: 500; color: get-color('gray', 800); }
.school-city { font-size: 0.75rem; color: get-color('gray', 500); }

.dropdown-loading {
  display: flex; align-items: center; justify-content: center;
  gap: 0.5rem; padding: 1rem; color: get-color('gray', 500); font-size: 0.875rem;
}

.dropdown-spinner {
  width: 16px; height: 16px;
  border: 2px solid get-color('gray', 200);
  border-top-color: var(--color-primary, #1e3a5f);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@media (max-width: 480px) {
  .form-row { grid-template-columns: 1fr; }
}
