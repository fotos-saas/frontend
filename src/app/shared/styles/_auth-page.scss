// ============================================
// Auth Page - Kozos SCSS mixinek
// Hasznalva: login, verify-email, forgot-password, reset-password
// ============================================

// ============================================
// KEYFRAMES
// ============================================

// Megjegyzes: `spin` es `fadeIn` GLOBALIS keyframe-ek (_animations.scss),
// NEM kell ujra definializni a komponensekben.

@mixin auth-keyframes-base {
  @keyframes cardFadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

@mixin auth-keyframes-button-pulse {
  @keyframes buttonPulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }
}

@mixin auth-keyframes-field {
  @keyframes fieldFadeIn {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes inputGlow {
    0%, 100% {
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
    }
    50% {
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.25);
    }
  }
}

@mixin auth-keyframes-icon {
  @keyframes iconPop {
    0% {
      transform: scale(0);
      opacity: 0;
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes iconShake {
    0%, 100% {
      transform: translateX(0);
    }
    20%, 60% {
      transform: translateX(-3px);
    }
    40%, 80% {
      transform: translateX(3px);
    }
  }
}

// ============================================
// COMPONENT MIXINS
// ============================================

// Kartya beuszo animacio (minden auth oldalon kozos)
@mixin auth-card {
  animation: cardFadeInUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  transition: transform 0.3s ease, box-shadow 0.3s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.2);
  }
}

// Fejlec staggered animacio
@mixin auth-header($delay: 0.1s) {
  opacity: 0;
  animation: cardFadeInUp 0.4s ease forwards;
  animation-delay: $delay;
}

// Cim transition
@mixin auth-title {
  transition: color 0.2s;
}

// Form staggered animacio
@mixin auth-form($delay: 0.15s) {
  opacity: 0;
  animation: cardFadeInUp 0.4s ease forwards;
  animation-delay: $delay;
}

// Form mezo animacio (fieldFadeIn keyframe szukseges)
@mixin auth-field($delay: 0.2s) {
  opacity: 0;
  animation: fieldFadeIn 0.35s ease forwards;
  animation-delay: $delay;
}

// Label transition
@mixin auth-label {
  transition: color 0.2s;
}

// Input focus enhancement - inputGlow NELKUL (login)
@mixin auth-input-base {
  transition: border-color 0.2s, box-shadow 0.2s, background-color 0.2s, transform 0.15s;

  &:focus {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    transform: scale(1.01);
  }

  &:hover:not(:focus):not(:disabled) {
    transform: scale(1.005);
  }
}

// Input focus enhancement - inputGlow-val (forgot/reset)
@mixin auth-input-with-glow {
  transition: border-color 0.2s, box-shadow 0.2s, background-color 0.2s, transform 0.15s;

  &:focus {
    animation: inputGlow 1.5s ease-in-out infinite;
    transform: scale(1.01);
  }

  &:hover:not(:focus):not(:disabled) {
    transform: scale(1.005);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

// Submit gomb kozos stilusok
@mixin auth-submit {
  transition: background-color 0.2s, transform 0.15s, box-shadow 0.2s;
  position: relative;
  overflow: hidden;

  &:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px -5px rgba(37, 99, 235, 0.4);
  }

  &:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
  }
}

// Submit gomb loading allapot
@mixin auth-submit-loading {
  animation: buttonPulse 1.5s ease-in-out infinite;
  cursor: wait;
}

// Spinner kozos stilusok
@mixin auth-spinner($size: 1rem, $border-width: 2px) {
  display: inline-block;
  width: $size;
  height: $size;
  border: $border-width solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

// Footer animacio
@mixin auth-footer($delay: 0.3s) {
  opacity: 0;
  animation: cardFadeInUp 0.4s ease forwards;
  animation-delay: $delay;

  a {
    transition: color 0.2s;
  }
}

// Hiba szoveg animacio (fieldFadeIn keyframe szukseges)
@mixin auth-error-text {
  animation: fieldFadeIn 0.2s ease forwards;
}

// Alert animacio (fieldFadeIn keyframe szukseges)
@mixin auth-alert {
  animation: fieldFadeIn 0.3s ease forwards;
}

// ============================================
// REDUCED MOTION - KOZOS MIXINEK
// ============================================

// Kartya reduced motion
@mixin auth-card-reduced-motion {
  animation: none;
  opacity: 1;
  transition: none;

  &:hover {
    transform: none;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
  }
}

// Staggered elemek reduced motion (header, form, footer, stb.)
@mixin auth-staggered-reduced-motion {
  animation: none;
  opacity: 1;
}

// Input reduced motion
@mixin auth-input-reduced-motion {
  transition: none;

  &:focus {
    animation: none;
    transform: none;
  }

  &:hover:not(:focus):not(:disabled) {
    transform: none;
  }
}

// Submit reduced motion
@mixin auth-submit-reduced-motion {
  animation: none;
  opacity: 1;
  transition: none;

  &:hover:not(:disabled) {
    transform: none;
  }

  &:active:not(:disabled) {
    transform: none;
  }
}

// Spinner reduced motion (megtartjuk a hasznalhatosag miatt)
@mixin auth-spinner-reduced-motion {
  animation: spin 0.8s linear infinite;
}
