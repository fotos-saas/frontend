<div class="school-list-page page-card">
  <header class="page-header">
    <h1>IskolÃ¡k</h1>
    <p class="subtitle">{{ totalSchools() }} iskola Ã¶sszesen</p>
  </header>

  <!-- KeresÃ©s Ã©s szÅ±rÃ©s -->
  <app-smart-filter-bar
    [filterState]="filterState"
    [searchConfig]="{ placeholder: 'KeresÃ©s iskola neve vagy vÃ¡ros alapjÃ¡n...' }"
    [filterConfigs]="cityFilterConfigs()"
  />

  <!-- Lista -->
  @if (filterState.loading()) {
    <div class="loading-state">
      @for (i of [1, 2, 3, 4, 5]; track i) {
        <div class="school-card skeleton skeleton-shimmer"></div>
      }
    </div>
  } @else if (schools().length === 0) {
    <div class="empty-state">
      <span class="empty-icon">ğŸ«</span>
      <h3>Nincs talÃ¡lat</h3>
      <p>PrÃ³bÃ¡lj mÃ¡s keresÃ©si feltÃ©telekkel!</p>
    </div>
  } @else {
    <div class="school-grid">
      @for (school of schools(); track school.id; let i = $index) {
        <div
          class="school-card"
          [style.animation-delay]="i * 0.03 + 's'"
          (click)="viewSchoolProjects(school)"
        >
          <div class="school-icon">ğŸ«</div>
          <div class="school-info">
            <h3 class="school-name">{{ school.name }}</h3>
            @if (school.city) {
              <p class="school-city">ğŸ“ {{ school.city }}</p>
            }
          </div>
          <div class="school-stats">
            <span class="projects-count">
              {{ school.projectsCount }}
              <span class="count-label">projekt</span>
            </span>
          </div>
        </div>
      }
    </div>

    <app-list-pagination
      [currentPage]="filterState.page()"
      [totalPages]="totalPages()"
      [totalItems]="totalSchools()"
      itemLabel="iskola"
      (pageChange)="filterState.setPage($event)"
    />
  }
</div>
