// Archive Edit Modal - tartalmi stÃ­lusok
@use '../../../../../shared/styles/dialog-forms' as form;
@use 'styles/mixins' as *;
@use 'styles/colors' as *;

.loading-spinner { @include form.loading-spinner; }

// --- FORM ---
.modal-form { @include form.form-layout; }
.form-row { @include form.form-row; }

.form-field {
  @include form.form-group;
  &--sm { flex: 0 0 100px; }
  &--lg { flex: 1; }
  label { @include form.label; }

  &--inline {
    flex-direction: row;
    align-items: center;
    gap: 8px;
    label { @include form.label; white-space: nowrap; }
  }
}

.form-input {
  @include form.input(var(--color-primary, #1e3a5f));
  &--sm { @include form.input-sm; }
}

// --- PHOTO SECTION ---
.photo-section {
  @include form.form-group;
  > label { @include form.label; }
}

.photo-row { display: flex; align-items: flex-start; gap: 14px; }

.photo-thumb {
  position: relative;
  width: 72px; height: 96px;
  border-radius: 8px; overflow: hidden;
  cursor: pointer; flex-shrink: 0;
  border: 2px dashed get-color('slate', 200);
  transition: border-color 0.15s ease;

  &:hover {
    border-color: var(--color-primary, #1e3a5f);
    .photo-overlay { opacity: 1; }
  }

  img { width: 100%; height: 100%; object-fit: cover; }
}

.photo-overlay {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  background: rgba(0, 0, 0, 0.35); color: #fff;
  opacity: 0; transition: opacity 0.15s ease;
}

.photo-remove {
  position: absolute; top: 2px; right: 2px;
  display: flex; align-items: center; justify-content: center;
  width: 20px; height: 20px;
  background: rgba(0, 0, 0, 0.55); border: none; border-radius: 4px;
  color: #fff; cursor: pointer; transition: background 0.15s ease;
  &:hover { background: get-color('error', 600); }
}

.photo-empty {
  display: flex; align-items: center; justify-content: center;
  width: 100%; height: 100%; color: get-color('slate', 400);
}

.hidden-input { display: none; }

.photo-info { display: flex; flex-direction: column; gap: 8px; padding-top: 2px; }
.photo-fields { display: flex; flex-direction: column; gap: 6px; }

.photo-status {
  font-size: 0.8125rem; color: get-color('slate', 500);
  &--new { color: var(--color-primary, #1e3a5f); font-weight: 500; }
  &--empty { color: get-color('slate', 400); }
}

.btn-change-photo {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 12px; background: get-color('slate', 100); border: 1px solid get-color('slate', 200);
  border-radius: 6px; font-size: 0.8125rem; color: get-color('slate', 600);
  cursor: pointer; @include transition-fast;
  &:hover { background: get-color('slate', 200); color: get-color('slate', 800); }
}

.spinner {
  width: 14px; height: 14px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: #fff; border-radius: 50%;
  animation: dwSpin 0.8s linear infinite;
}

@keyframes dwSpin { to { transform: rotate(360deg); } }
