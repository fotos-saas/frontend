// Forgot Password Page - Animation Styles
@use '../../../shared/styles/auth-page' as auth;

// Keyframes
@include auth.auth-keyframes-base;
@include auth.auth-keyframes-button-pulse;
@include auth.auth-keyframes-field;

@keyframes successPop {
  0% {
    transform: scale(0.95);
  }
  50% {
    transform: scale(1.02);
  }
  100% {
    transform: scale(1);
  }
}

// ============================================
// FORGOT PASSWORD PAGE STYLES
// ============================================

.forgot-password-page {
  &__card {
    @include auth.auth-card;
  }

  &__header {
    @include auth.auth-header(0.1s);
  }

  &__title {
    @include auth.auth-title;
  }

  // ============================================
  // ALERT STYLES
  // ============================================
  &__alert {
    @include auth.auth-alert;

    &--success {
      animation: fieldFadeIn 0.3s ease forwards, successPop 0.4s ease forwards;
    }
  }

  // ============================================
  // FORM STYLES
  // ============================================
  &__form {
    @include auth.auth-form(0.15s);
  }

  &__field {
    @include auth.auth-field(0.2s);
  }

  &__label {
    @include auth.auth-label;
  }

  &__input {
    @include auth.auth-input-with-glow;
  }

  &__error-text {
    @include auth.auth-error-text;
  }

  // ============================================
  // SUBMIT BUTTON
  // ============================================
  &__submit {
    opacity: 0;
    animation: fieldFadeIn 0.35s ease forwards;
    animation-delay: 0.25s;
    @include auth.auth-submit;

    &--loading {
      animation: fieldFadeIn 0.35s ease forwards, buttonPulse 1.5s ease-in-out infinite;
      animation-delay: 0.25s, 0s;
      cursor: wait;
    }

    &--success {
      background-color: #10b981 !important;
      cursor: default;

      &:hover {
        transform: none;
        box-shadow: none;
      }
    }
  }

  &__spinner {
    @include auth.auth-spinner(1rem, 2px);
  }

  // ============================================
  // FOOTER
  // ============================================
  &__footer {
    @include auth.auth-footer(0.3s);
  }
}

// ============================================
// REDUCED MOTION SUPPORT (A11y)
// ============================================
@media (prefers-reduced-motion: reduce) {
  .forgot-password-page {
    &__card {
      @include auth.auth-card-reduced-motion;
    }

    &__header,
    &__form,
    &__footer,
    &__alert {
      @include auth.auth-staggered-reduced-motion;
    }

    &__field {
      @include auth.auth-staggered-reduced-motion;
    }

    &__input {
      @include auth.auth-input-reduced-motion;
    }

    &__submit {
      @include auth.auth-submit-reduced-motion;

      &--loading {
        animation: none;
      }
    }

    &__spinner {
      @include auth.auth-spinner-reduced-motion;
    }

    &__error-text {
      animation: none;
    }
  }
}
