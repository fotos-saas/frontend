<app-hero-dialog-wrapper
  theme="blue"
  [icon]="ICONS.USER"
  title="Kapcsolattartó szerkesztése"
  description="Add meg a kapcsolattartó elérhetőségeit"
  size="md"
  (closeEvent)="onClose()"
>
  <ng-container dialogBody>
    <!-- Name field -->
    <div class="field">
      <label class="field__label" for="contact-name">
        Név <span class="field__required">*</span>
      </label>
      <input
        type="text"
        id="contact-name"
        class="field__input"
        [class.field__input--error]="errors.name"
        [(ngModel)]="formData.name"
        (ngModelChange)="onInputChange()"
        placeholder="Kovács János"
        [disabled]="isSaving()"
      />
      @if (errors.name) {
        <span class="field__error">{{ errors.name }}</span>
      }
    </div>

    <!-- Email field -->
    <div class="field">
      <label class="field__label" for="contact-email">
        Email <span class="field__required">*</span>
      </label>
      <input
        type="email"
        id="contact-email"
        class="field__input"
        [class.field__input--error]="errors.email"
        [(ngModel)]="formData.email"
        (ngModelChange)="onInputChange()"
        placeholder="pelda@email.hu"
        [disabled]="isSaving()"
      />
      @if (errors.email) {
        <span class="field__error">{{ errors.email }}</span>
      }
    </div>

    <!-- Phone field -->
    <div class="field">
      <label class="field__label" for="contact-phone">
        Telefonszám <span class="field__required">*</span>
      </label>
      <input
        type="tel"
        id="contact-phone"
        class="field__input"
        [class.field__input--error]="errors.phone"
        [(ngModel)]="formData.phone"
        (ngModelChange)="onInputChange()"
        placeholder="+36 30 123 4567"
        [disabled]="isSaving()"
      />
      @if (errors.phone) {
        <span class="field__error">{{ errors.phone }}</span>
      }
    </div>

  </ng-container>

  <ng-container dialogFooter>
    <button
      type="button"
      class="btn btn--secondary"
      (click)="onClose()"
      [disabled]="isSaving()"
    >
      Mégse
    </button>
    <button
      type="button"
      class="btn btn--primary"
      (click)="save()"
      [disabled]="!isFormValid || isSaving()"
    >
      @if (isSaving()) {
        <lucide-icon [name]="ICONS.LOADER" [size]="16" class="spin" />
      }
      {{ isSaving() ? 'Mentés...' : 'Mentés' }}
    </button>
  </ng-container>
</app-hero-dialog-wrapper>
