<app-dialog-wrapper
  variant="create"
  headerStyle="flat"
  theme="purple"
  [icon]="ICONS.MAIL"
  title="Új csapattag meghívása"
  size="md"
  [isSubmitting]="saving()"
  [errorMessage]="emailError()"
  (closeEvent)="close.emit()"
  (submitEvent)="onSave()"
  (backdropClickEvent)="close.emit()">
  <div dialogBody>
    <!-- Email -->
    <ps-input
      label="Email cím"
      type="email"
      fieldId="email"
      autocomplete="off"
      [(ngModel)]="email"
      placeholder="munkatars@example.com"
      [errorMessage]="emailError() ?? ''"
      [state]="emailError() ? 'error' : 'default'"
    />

    <!-- Szerepkör -->
    <ps-radio-group
      label="Szerepkör"
      [options]="roleOptions"
      variant="cards"
      [ngModel]="selectedRole()"
      (ngModelChange)="selectedRole.set($event)"
    />
  </div>

  <div dialogFooter>
    <button class="btn btn--outline" (click)="close.emit()">
      Mégse
    </button>
    <button
      class="btn btn--purple"
      [disabled]="saving() || !isValid()"
      (click)="onSave()">
      @if (saving()) {
        <lucide-icon [name]="ICONS.LOADER" [size]="16" class="spin" />
      } @else {
        <lucide-icon [name]="ICONS.MAIL" [size]="16" />
      }
      Meghívó küldése
    </button>
  </div>
</app-dialog-wrapper>
