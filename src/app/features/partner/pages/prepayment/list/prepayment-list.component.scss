@use '../../../../../../shared/styles/list-page' as list;
@use 'styles/mixins' as mix;
@use 'styles/colors' as *;

:host {
  display: block;
}

.prepayment-list {
  --table-cols: 1.2fr 1.5fr 0.8fr 0.7fr 0.9fr 0.8fr 1fr;
}

// === ÖSSZEGZŐ KÁRTYÁK ===
.summary-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
  margin-bottom: 24px;
}

.summary-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border-radius: 12px;
  background: #ffffff;
  border: 1px solid get-color('slate', 200);
  @include mix.transition-normal;

  &:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  }

  &__icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  &__data {
    display: flex;
    flex-direction: column;
  }

  &__value {
    font-size: 1.125rem;
    font-weight: 700;
    color: get-color('slate', 800);
  }

  &__label {
    font-size: 0.75rem;
    color: get-color('slate', 500);
  }

  // Szín variánsok
  &[data-color='green'] .summary-card__icon {
    background: #dcfce7;
    color: #16a34a;
  }
  &[data-color='amber'] .summary-card__icon {
    background: #fef3c7;
    color: #d97706;
  }
  &[data-color='blue'] .summary-card__icon {
    background: #dbeafe;
    color: #2563eb;
  }
  &[data-color='orange'] .summary-card__icon {
    background: #ffedd5;
    color: #ea580c;
  }
  &[data-color='slate'] .summary-card__icon {
    background: get-color('slate', 100);
    color: get-color('slate', 600);
  }
}

// === CELLA STÍLUSOK ===
.cell-name {
  display: flex;
  flex-direction: column;

  .name-text {
    font-weight: 500;
    color: get-color('slate', 800);
  }

  .class-text {
    font-size: 0.75rem;
    color: get-color('slate', 500);
  }
}

.cell-parent {
  display: flex;
  flex-direction: column;

  .email-text {
    font-size: 0.75rem;
    color: get-color('slate', 500);
  }
}

.cell-amount {
  font-weight: 600;
  color: get-color('slate', 800);
}

.cell-date {
  font-size: 0.8125rem;
  color: get-color('slate', 600);
}

.cell-actions {
  display: flex;
  justify-content: center;
  gap: 2px;
}

// === MÓD BADGE ===
.mode-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;

  &[data-mode='fixed_fee'] {
    background: #dbeafe;
    color: #1d4ed8;
  }
  &[data-mode='deposit'] {
    background: #f3e8ff;
    color: #7c3aed;
  }
  &[data-mode='package'] {
    background: #dcfce7;
    color: #16a34a;
  }
}

// === STÁTUSZ BADGE ===
.status-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;

  &[data-status='pending'] {
    background: #fef3c7;
    color: #92400e;
  }
  &[data-status='paid'] {
    background: #dcfce7;
    color: #166534;
  }
  &[data-status='used'] {
    background: #dbeafe;
    color: #1e40af;
  }
  &[data-status='partially_used'] {
    background: #cffafe;
    color: #155e75;
  }
  &[data-status='cancelled'] {
    background: get-color('slate', 100);
    color: get-color('slate', 600);
  }
  &[data-status='refunded'] {
    background: #ffedd5;
    color: #9a3412;
  }
  &[data-status='forfeited'] {
    background: #fee2e2;
    color: #991b1b;
  }
  &[data-status='expired'] {
    background: get-color('slate', 100);
    color: get-color('slate', 500);
  }
}

// === RESPONSIVE ===
@media (max-width: 768px) {
  .prepayment-list {
    --table-cols: 1fr;
  }

  .summary-cards {
    grid-template-columns: 1fr 1fr;
  }

  .list-row {
    grid-template-columns: 1fr !important;
    gap: 4px;
  }

  .table-header {
    display: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
