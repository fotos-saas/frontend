<!-- Fullscreen overlay -->
<div class="pending-overlay">
  <div class="pending-card">
    <!-- Animated hourglass icon -->
    <div class="pending-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
        <path d="M5 22h14M5 2h14M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22M17 2v4.172a2 2 0 0 1-.586 1.414L12 12 7.586 7.586A2 2 0 0 1 7 6.172V2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>

    <h1 class="pending-title">Várakozás jóváhagyásra</h1>

    <p class="pending-description">
      A kiválasztott nevet már valaki más használja.
      Az ügyintéző hamarosan ellenőrzi a kérésedet.
    </p>

    <!-- Info card -->
    <div class="pending-info">
      <div class="pending-info-row">
        <span class="pending-info-label">Becenév:</span>
        <span class="pending-info-value">{{ guestName() }}</span>
      </div>
      @if (missingPersonName()) {
        <div class="pending-info-row">
          <span class="pending-info-label">Tablón:</span>
          <span class="pending-info-value">{{ missingPersonName() }}</span>
        </div>
      }
    </div>

    <!-- Polling indicator -->
    <div class="pending-polling">
      <div class="pending-polling-dot"></div>
      <span>Automatikus frissítés bekapcsolva</span>
    </div>

    <!-- Actions -->
    <div class="pending-actions">
      <button
        type="button"
        class="pending-btn pending-btn--primary"
        (click)="onRefresh()"
        [disabled]="isRefreshing()"
      >
        @if (isRefreshing()) {
          <svg class="pending-btn-spinner" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" opacity="0.25"/>
            <path d="M12 2a10 10 0 0 1 10 10" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
          </svg>
        } @else {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M1 4v6h6M23 20v-6h-6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        }
        {{ isRefreshing() ? 'Ellenőrzés...' : 'Frissítés' }}
      </button>

      <button
        type="button"
        class="pending-btn pending-btn--secondary"
        (click)="onCancel()"
      >
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke-linecap="round" stroke-linejoin="round"/>
          <polyline points="16 17 21 12 16 7" stroke-linecap="round" stroke-linejoin="round"/>
          <line x1="21" y1="12" x2="9" y2="12" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Mégsem
      </button>
    </div>

    <!-- Help text -->
    <p class="pending-help">
      Ha problémád van, vedd fel a kapcsolatot az osztály kapcsolattartójával.
    </p>
  </div>
</div>
