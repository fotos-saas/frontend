<app-dialog-wrapper
  variant="edit"
  headerStyle="hero"
  theme="blue"
  [icon]="ICONS.USER"
  title="Kapcsolattartó szerkesztése"
  description="Add meg a kapcsolattartó elérhetőségeit"
  size="md"
  (closeEvent)="onClose()"
>
  <ng-container dialogBody>
    <ps-input
      label="Név"
      [required]="true"
      placeholder="Kovács János"
      [(ngModel)]="formData.name"
      (ngModelChange)="onInputChange()"
      [disabled]="isSaving()"
      [errorMessage]="errors.name ?? ''"
    />

    <ps-input
      type="email"
      label="Email"
      [required]="true"
      placeholder="pelda@email.hu"
      [(ngModel)]="formData.email"
      (ngModelChange)="onInputChange()"
      [disabled]="isSaving()"
      [errorMessage]="errors.email ?? ''"
    />

    <ps-input
      type="tel"
      label="Telefonszám"
      [required]="true"
      placeholder="+36 30 123 4567"
      [(ngModel)]="formData.phone"
      (ngModelChange)="onInputChange()"
      [disabled]="isSaving()"
      [errorMessage]="errors.phone ?? ''"
    />
  </ng-container>

  <ng-container dialogFooter>
    <button
      type="button"
      class="btn btn--secondary"
      (click)="onClose()"
      [disabled]="isSaving()"
    >
      Mégse
    </button>
    <button
      type="button"
      class="btn btn--primary"
      (click)="save()"
      [disabled]="!isFormValid || isSaving()"
    >
      @if (isSaving()) {
        <lucide-icon [name]="ICONS.LOADER" [size]="16" class="spin" />
      }
      {{ isSaving() ? 'Mentés...' : 'Mentés' }}
    </button>
  </ng-container>
</app-dialog-wrapper>
