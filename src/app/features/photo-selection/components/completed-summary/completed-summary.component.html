<div class="completed-summary">
  <!-- Szolidabb success banner -->
  <div class="completed-summary__banner">
    <svg class="completed-summary__check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
      <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <div class="completed-summary__banner-text">
      <h2 class="completed-summary__title">Sikeres véglegesítés</h2>
      <p class="completed-summary__subtitle">A választásod rögzítve lett.</p>
    </div>
  </div>

  <!-- Statisztika sor -->
  <div class="completed-summary__stats">
    <div class="completed-summary__stat">
      <span class="completed-summary__stat-value">{{ claimedCount }}</span>
      <span class="completed-summary__stat-label">Saját kép</span>
    </div>
    <div class="completed-summary__stat-divider"></div>
    <div class="completed-summary__stat">
      <span class="completed-summary__stat-value">{{ retouchCount }}</span>
      <span class="completed-summary__stat-label">Retusálandó</span>
    </div>
    <div class="completed-summary__stat-divider"></div>
    <div class="completed-summary__stat">
      <span class="completed-summary__stat-value completed-summary__stat-value--accent">1</span>
      <span class="completed-summary__stat-label">Tablókép</span>
    </div>
  </div>

  <!-- Review csoportok -->
  @if (hasReview()) {
    <div class="completed-summary__review">
      <!-- Saját képeim -->
      @if (reviewGroups()!.claiming.length > 0) {
        <section class="completed-summary__group">
          <h3 class="completed-summary__group-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Saját képeim
            <span class="completed-summary__group-count">{{ reviewGroups()!.claiming.length }}</span>
          </h3>
          <div class="completed-summary__grid">
            @for (photo of reviewGroups()!.claiming; track photo.id; let i = $index) {
              <button
                type="button"
                class="completed-summary__thumb"
                (click)="onPhotoClick(reviewGroups()!.claiming, i)"
              >
                <img [src]="photo.thumbnail_url || photo.url" [alt]="photo.filename" loading="lazy" />
              </button>
            }
          </div>
        </section>
      }

      <!-- Retusálandó képek -->
      @if (reviewGroups()!.retouch.length > 0) {
        <section class="completed-summary__group">
          <h3 class="completed-summary__group-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Retusálandó képek
            <span class="completed-summary__group-count">{{ reviewGroups()!.retouch.length }}</span>
          </h3>
          <div class="completed-summary__grid">
            @for (photo of reviewGroups()!.retouch; track photo.id; let i = $index) {
              <button
                type="button"
                class="completed-summary__thumb"
                (click)="onPhotoClick(reviewGroups()!.retouch, i)"
              >
                <img [src]="photo.thumbnail_url || photo.url" [alt]="photo.filename" loading="lazy" />
              </button>
            }
          </div>
        </section>
      }

      <!-- Tablókép -->
      @if (reviewGroups()!.tablo.length > 0) {
        <section class="completed-summary__group">
          <h3 class="completed-summary__group-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Tablókép
          </h3>
          <div class="completed-summary__grid completed-summary__grid--tablo">
            @for (photo of reviewGroups()!.tablo; track photo.id; let i = $index) {
              <button
                type="button"
                class="completed-summary__thumb completed-summary__thumb--tablo"
                (click)="onPhotoClick(reviewGroups()!.tablo, i)"
              >
                <img [src]="photo.preview_url || photo.url" [alt]="photo.filename" loading="lazy" />
                <div class="completed-summary__tablo-badge">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </button>
            }
          </div>
        </section>
      }
    </div>
  }

  <!-- Contact info -->
  <div class="completed-summary__info">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
      <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>
    <p>Ha bármilyen kérdésed van, keresd a szervezőket!</p>
  </div>
</div>
