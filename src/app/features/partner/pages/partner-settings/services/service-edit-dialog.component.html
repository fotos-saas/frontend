<app-dialog-wrapper
  [variant]="isEdit ? 'edit' : 'create'"
  headerStyle="flat"
  theme="blue"
  [icon]="ICONS.SETTINGS"
  [title]="isEdit ? 'Szolgáltatás szerkesztése' : 'Új szolgáltatás'"
  size="md"
  (closeEvent)="close.emit()"
  (submitEvent)="save()"
  (backdropClickEvent)="close.emit()">
  <div dialogBody>
    <ps-input
      label="Név"
      [required]="true"
      placeholder="Pl. Képcsere"
      [(ngModel)]="name" />

    <ps-select
      label="Típus"
      [options]="typeOptions"
      [(ngModel)]="serviceType" />

    <ps-input
      label="Alapár (Ft)"
      type="number"
      [min]="0"
      [(ngModel)]="defaultPrice" />

    <ps-input
      label="ÁFA (%)"
      type="number"
      [min]="0"
      [max]="100"
      [(ngModel)]="vatPercentage" />

    <ps-textarea
      label="Leírás"
      placeholder="Opcionális leírás..."
      [rows]="3"
      [(ngModel)]="description" />

    @if (isEdit) {
      <ps-toggle
        label="Aktív"
        [(ngModel)]="isActive" />
    }
  </div>

  <div dialogFooter>
    <button class="btn btn--outline" (click)="close.emit()">Mégse</button>
    <button class="btn btn--primary" (click)="save()" [disabled]="!name.trim()">
      {{ isEdit ? 'Mentés' : 'Létrehozás' }}
    </button>
  </div>
</app-dialog-wrapper>
