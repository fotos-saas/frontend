// Reset Password Page - Animation Styles
@use '../../../shared/styles/auth-page' as auth;

// Keyframes
@include auth.auth-keyframes-base;
@include auth.auth-keyframes-button-pulse;
@include auth.auth-keyframes-field;
@include auth.auth-keyframes-icon;

// ============================================
// RESET PASSWORD PAGE STYLES
// ============================================

.reset-password-page {
  &__card {
    @include auth.auth-card;
  }

  &__header {
    @include auth.auth-header(0.1s);
  }

  &__title {
    @include auth.auth-title;
  }

  // ============================================
  // ALERT STYLES
  // ============================================
  &__alert {
    @include auth.auth-alert;
  }

  // ============================================
  // FORM STYLES
  // ============================================
  &__form {
    @include auth.auth-form(0.15s);
  }

  &__field {
    opacity: 0;
    animation: fieldFadeIn 0.35s ease forwards;

    &:nth-child(1) { animation-delay: 0.2s; }
    &:nth-child(2) { animation-delay: 0.25s; }
    &:nth-child(3) { animation-delay: 0.3s; }
  }

  &__label {
    @include auth.auth-label;
  }

  &__input {
    @include auth.auth-input-with-glow;

    &:hover:not(:focus):not(:disabled):not(&--readonly) {
      transform: scale(1.005);
    }

    &--readonly {
      cursor: default;
    }
  }

  &__error-text {
    @include auth.auth-error-text;
  }

  // ============================================
  // INVALID TOKEN STATE
  // ============================================
  &__invalid-token {
    opacity: 0;
    animation: cardFadeInUp 0.4s ease forwards;
    animation-delay: 0.15s;
  }

  &__invalid-icon {
    animation: iconShake 0.5s ease;
    animation-delay: 0.4s;
  }

  // ============================================
  // SUBMIT BUTTON
  // ============================================
  &__submit {
    opacity: 0;
    animation: fieldFadeIn 0.35s ease forwards;
    animation-delay: 0.35s;
    @include auth.auth-submit;

    &--loading {
      animation: fieldFadeIn 0.35s ease forwards, buttonPulse 1.5s ease-in-out infinite;
      animation-delay: 0.35s, 0s;
      cursor: wait;
    }
  }

  &__spinner {
    @include auth.auth-spinner(1rem, 2px);
  }

  // ============================================
  // FOOTER
  // ============================================
  &__footer {
    @include auth.auth-footer(0.4s);
  }
}

// ============================================
// REDUCED MOTION SUPPORT (A11y)
// ============================================
@media (prefers-reduced-motion: reduce) {
  .reset-password-page {
    &__card {
      @include auth.auth-card-reduced-motion;
    }

    &__header,
    &__form,
    &__footer,
    &__alert,
    &__invalid-token {
      @include auth.auth-staggered-reduced-motion;
    }

    &__field {
      @include auth.auth-staggered-reduced-motion;
    }

    &__input {
      @include auth.auth-input-reduced-motion;

      &:hover:not(:focus):not(:disabled):not(&--readonly) {
        transform: none;
      }
    }

    &__submit {
      @include auth.auth-submit-reduced-motion;

      &--loading {
        animation: none;
      }
    }

    &__spinner {
      @include auth.auth-spinner-reduced-motion;
    }

    &__error-text,
    &__invalid-icon {
      animation: none;
    }
  }
}
