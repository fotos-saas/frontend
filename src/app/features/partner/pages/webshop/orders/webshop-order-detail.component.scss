@use 'styles/mixins' as *;
@use 'styles/colors' as *;

:host {
  display: block;
}

.back-btn {
  margin-bottom: 16px;
}

.order-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 24px;

  h1 {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 12px 0 0;
    display: inline;
  }

  .order-meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    font-size: 0.8125rem;
    color: var(--text-secondary);
    gap: 2px;
  }
}

.badge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 0.8125rem;
  font-weight: 500;
  vertical-align: middle;

  &-pending { background: var(--bg-secondary); color: var(--text-secondary); }
  &-paid { background: get-color('primary', 100); color: get-color('primary', 800); }
  &-processing { background: #fef3c7; color: get-color('warning', 800); }
  &-shipped { background: #e0e7ff; color: #3730a3; }
  &-completed { background: #d1fae5; color: #065f46; }
  &-cancelled { background: get-color('error', 100); color: get-color('error', 800); }
}

.detail-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 24px;

  @media (max-width: 640px) {
    grid-template-columns: 1fr;
  }
}

.detail-section {
  h3 {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 12px;
  }

  dl {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 6px 16px;
    font-size: 0.875rem;

    dt {
      color: var(--text-secondary);
      font-weight: 500;
    }

    dd {
      margin: 0;
      color: var(--text-primary);
    }
  }
}

.totals-section {
  padding: 16px;
  background: var(--bg-secondary);
  border-radius: 8px;
  margin-bottom: 24px;

  .total-row {
    display: flex;
    justify-content: space-between;
    padding: 4px 0;
    font-size: 0.875rem;

    &.grand-total {
      border-top: 1px solid var(--border-color);
      margin-top: 8px;
      padding-top: 8px;
      font-weight: 700;
      font-size: 1rem;
    }
  }
}

.items-section {
  margin-bottom: 24px;

  h3 {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 12px;
  }
}

.items-grid {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.order-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;

  .item-photo {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 6px;
  }

  .item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;

    .item-name {
      font-weight: 500;
      font-size: 0.875rem;
    }

    .item-spec {
      font-size: 0.8125rem;
      color: var(--text-secondary);
    }

    .item-qty {
      font-size: 0.75rem;
      color: var(--text-secondary);
    }
  }

  .item-subtotal {
    font-weight: 600;
    font-size: 0.875rem;
    white-space: nowrap;
  }
}

.actions-section {
  padding: 20px;
  background: var(--bg-secondary);
  border-radius: 8px;
  margin-bottom: 24px;

  ps-input {
    margin-bottom: 12px;
    max-width: 300px;
  }

  .action-buttons {
    display: flex;
    gap: 12px;
  }
}

.notes-section {
  padding: 16px;
  background: var(--bg-secondary);
  border-radius: 8px;

  h3 {
    font-size: 0.875rem;
    font-weight: 600;
    margin: 0 0 8px;
  }

  p {
    margin: 0;
    font-size: 0.875rem;
    color: var(--text-secondary);
  }
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border: none;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  @include transition-fast;

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  &-primary {
    background: var(--accent-color);
    color: white;
  }

  &-ghost {
    background: transparent;
    color: var(--text-secondary);

    &:hover { background: var(--bg-secondary); }
  }

  &-danger-outline {
    background: transparent;
    border: 1px solid var(--danger-color);
    color: var(--danger-color);

    &:hover { background: var(--danger-bg); }
  }
}

.skeleton-container {
  display: flex;
  flex-direction: column;
  gap: 12px;

  .skeleton-row {
    height: 40px;
    border-radius: 8px;
    background: linear-gradient(90deg, var(--bg-secondary) 25%, var(--bg-tertiary) 50%, var(--bg-secondary) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;

    &.lg { height: 80px; }
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
