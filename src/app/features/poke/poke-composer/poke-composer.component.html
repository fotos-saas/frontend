<app-dialog-wrapper
  variant="create"
  headerStyle="hero"
  theme="purple"
  [icon]="ICONS.SEND"
  [title]="'Bökj: ' + user().name"
  [description]="'Válassz egy előre megírt üzenetet vagy írj sajátot'"
  size="md"
  [closable]="true"
  (closeEvent)="cancel()"
  (submitEvent)="send()"
>
  <div dialogBody>
    <!-- Preset selector -->
    <div class="dialog__section">
      <app-preset-selector
        [presets]="presets()"
        [selected]="selectedPreset()"
        (select)="onPresetSelect($event)" />
    </div>

    <!-- Custom message toggle -->
    <button
      type="button"
      class="dialog__custom-toggle"
      [class.dialog__custom-toggle--active]="showCustomInput()"
      [attr.aria-pressed]="showCustomInput()"
      (click)="toggleCustomInput()">
      <span class="dialog__custom-emoji" aria-hidden="true">✍️</span>
      <span class="dialog__custom-label">egyéni üzenet</span>
    </button>

    <!-- Custom message input -->
    @if (showCustomInput()) {
      <div class="dialog__custom-input">
        <ps-textarea
          [(ngModel)]="customMessage"
          placeholder="írd ide az üzeneted..."
          [maxLength]="500"
          [rows]="3"
        />
      </div>
    }
  </div>

  <div dialogFooter>
    <button type="button" class="btn btn--outline" (click)="cancel()">
      Mégse
    </button>
    <button type="button" class="btn btn--primary" type="submit">
      <lucide-icon [name]="ICONS.SEND" [size]="16" />
      Küldés
    </button>
  </div>
</app-dialog-wrapper>
